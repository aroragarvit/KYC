
> kyc_verifier@1.0.0 dev
> mastra dev

[32mINFO[39m [2025-04-26 13:42:28.625 +0530] (BUNDLER - Dev): [36mStarting watcher...[39m
[32mINFO[39m [2025-04-26 13:42:30.175 +0530] (BUNDLER - Dev): [36mBundling finished, starting server...[39m
[32mINFO[39m [2025-04-26 13:42:30.204 +0530] (Mastra CLI): [36m[Mastra Dev] - Starting server...[39m
[32mINFO[39m [2025-04-26 13:42:32.664 +0530] (Mastra): [36mü¶Ñ Mastra API running on port 4111/api[39m
[32mINFO[39m [2025-04-26 13:42:32.669 +0530] (Mastra): [36müìö Open API documentation available at http://localhost:4111/openapi.json[39m
[32mINFO[39m [2025-04-26 13:42:32.669 +0530] (Mastra): [36müß™ Swagger UI available at http://localhost:4111/swagger-ui[39m
[32mINFO[39m [2025-04-26 13:42:32.670 +0530] (Mastra): [36müë®‚Äçüíª Playground available at http://localhost:4111/[39m
Fetching documents for client ID: 1...
Reading content for document 1: Chee_chung_address.txt
Reading content for document 2: MM_ID_MichealMcKay_passport.txt
Reading content for document 3: MM_address_statement.txt
Reading content for document 4: MN_ID_MonikaNowaczyk_passport.txt
Reading content for document 5: chee_chung_idNRIC.txt
Reading content for document 6: companyProfile.txt
Reading content for document 7: mn_address_statement.txt
Classifying 7 documents in a single batch...
Sending batch classification request to AI...
Received batch classification response from AI
Classified document 1: Chee_chung_address.txt as proof_of_address
Classified document 2: MM_ID_MichealMcKay_passport.txt as identity_document
Classified document 3: MM_address_statement.txt as proof_of_address
Classified document 4: MN_ID_MonikaNowaczyk_passport.txt as identity_document
Classified document 5: chee_chung_idNRIC.txt as identity_document
Classified document 6: companyProfile.txt as company_profile
Classified document 7: mn_address_statement.txt as proof_of_address
Extracting information from 7 documents...
Sending prompt to extract information...
Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_numbers": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "S7247859B"}}, "id_types": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "NRIC"}}, "nationalities": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "SINGAPORE"}}, "addresses": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747"}, "chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {}}, {"full_name": "Michael Andrew Mckay", "alternative_names": ["Mckay Micheal Andrew"], "id_numbers": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "AJ855933"}}, "id_types": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"MM_address_statement.txt": {"documentId": 3, "documentName": "MM_address_statement.txt", "documentType": "proof_of_address", "value": "No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh"}, "companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "APT 702, #38 STREET 426, PHNOM PENH, CAMBODIA"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "30 shares"}}}, {"full_name": "Monika Nowaczyk", "alternative_names": [], "id_numbers": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "HG066207"}}, "id_types": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"mn_address_statement.txt": {"documentId": 7, "documentName": "mn_address_statement.txt", "documentType": "proof_of_address", "value": "104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh"}, "companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "HOUSE 104BE02 STREET 470, PHNOM PENH, CAMBODIA"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "70 shares"}}}, {"full_name": "Ng Cheng Wei", "alternative_names": [], "id_numbers": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "S8829811Z"}}, "id_types": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "NRIC (Implied)"}}, "nationalities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE CITIZEN"}}, "addresses": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Secretary"}, "shares_owned": {}}], "companies": [{"company_name": "BEEBEE+BONGO PTE. LTD.", "registration_number": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "202103382H"}}, "jurisdiction": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE"}}, "address": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "directors": ["Micheal Andrew Mckay", "Monika Nowaczyk", "Tham Chee Chung"], "shareholders": ["Michael Andrew Mckay (30%)", "Monika Nowaczyk (70%)"], "company_activities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "WHOLESALE OF TOYS AND GAMES", "value": "RETAIL SALE OF GAMES AND TOYS"}}, "shares_issued": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "100 shares"}}}]}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_n...
Successfully extracted information about 4 individuals and 1 companies
Processing discrepancies in extracted data...
Storing extracted information...
Stored new individual: Tham Chee Chung
Stored new individual: Michael Andrew Mckay
Stored new individual: Monika Nowaczyk
Stored new individual: Ng Cheng Wei
Stored new company: BEEBEE+BONGO PTE. LTD.

=== Processing directors for company: BEEBEE+BONGO PTE. LTD. ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: BEEBEE+BONGO PTE. LTD.
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: RETAIL SALE OF GAMES AND TOYS
e. Intended Registered Address: 20A TANJONG PAGAR ROAD SINGAPORE (088443)

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
| Micheal Andrew Mckay (Unknown) | Unknown | Unknown | Unknown | Unknown | Unknown | Unknown | pending | Missing all required information |
Error storing director data for Micheal Andrew Mckay: Request failed with status code 500
| Monika Nowaczyk (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh vs HOUSE 104BE02 STREET 470, PHNOM PENH, CAMBODIA (Sources: mn_address_statement.txt, companyProfile.txt) |
Error fetching individuals: Request failed with status code 500

Company Verification Status: pending

=== End of Processing ===


=== Processing shareholders for company: BEEBEE+BONGO PTE. LTD. ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Michael Andrew Mckay (30%)', 'Monika Nowaczyk (70%)' ]
Stored/updated individual shareholder information for Michael Andrew Mckay
| Michael Andrew Mckay | 30% (Declaration) | Missing (No source) | AJ855933 (MM_ID_MichealMcKay_passport.txt) | Passport (MM_ID_MichealMcKay_passport.txt) | CANADIAN (MM_ID_MichealMcKay_passport.txt) | No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh (MM_address_statement.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh vs APT 702, #38 STREET 426, PHNOM PENH, CAMBODIA (Sources: MM_address_statement.txt, companyProfile.txt) |
Stored/updated individual shareholder information for Monika Nowaczyk
| Monika Nowaczyk | 70% (Declaration) | Missing (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh vs HOUSE 104BE02 STREET 470, PHNOM PENH, CAMBODIA (Sources: mn_address_statement.txt, companyProfile.txt) |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

[32mINFO[39m [2025-04-26 13:47:36.073 +0530] (Mastra CLI): [36m[Mastra Dev] - Bundling finished, restarting server...[39m
[34mDEBUG[39m [2025-04-26 13:47:36.074 +0530] (Mastra CLI): [36mStopping current server...[39m
[32mINFO[39m [2025-04-26 13:47:36.080 +0530] (Mastra CLI): [36m[Mastra Dev] - Starting server...[39m
[32mINFO[39m [2025-04-26 13:47:38.810 +0530] (Mastra): [36mü¶Ñ Mastra API running on port 4111/api[39m
[32mINFO[39m [2025-04-26 13:47:38.817 +0530] (Mastra): [36müìö Open API documentation available at http://localhost:4111/openapi.json[39m
[32mINFO[39m [2025-04-26 13:47:38.817 +0530] (Mastra): [36müß™ Swagger UI available at http://localhost:4111/swagger-ui[39m
[32mINFO[39m [2025-04-26 13:47:38.818 +0530] (Mastra): [36müë®‚Äçüíª Playground available at http://localhost:4111/[39m
[32mINFO[39m [2025-04-26 13:47:51.996 +0530] (Mastra CLI): [36m[Mastra Dev] - Bundling finished, restarting server...[39m
[34mDEBUG[39m [2025-04-26 13:47:51.997 +0530] (Mastra CLI): [36mStopping current server...[39m
[32mINFO[39m [2025-04-26 13:47:52.003 +0530] (Mastra CLI): [36m[Mastra Dev] - Starting server...[39m
[32mINFO[39m [2025-04-26 13:47:54.675 +0530] (Mastra): [36mü¶Ñ Mastra API running on port 4111/api[39m
[32mINFO[39m [2025-04-26 13:47:54.681 +0530] (Mastra): [36müìö Open API documentation available at http://localhost:4111/openapi.json[39m
[32mINFO[39m [2025-04-26 13:47:54.682 +0530] (Mastra): [36müß™ Swagger UI available at http://localhost:4111/swagger-ui[39m
[32mINFO[39m [2025-04-26 13:47:54.682 +0530] (Mastra): [36müë®‚Äçüíª Playground available at http://localhost:4111/[39m
Fetching documents for client ID: 1...
Reading content for document 1: Chee_chung_address.txt
Reading content for document 2: MM_ID_MichealMcKay_passport.txt
Reading content for document 3: MM_address_statement.txt
Reading content for document 4: MN_ID_MonikaNowaczyk_passport.txt
Reading content for document 5: chee_chung_idNRIC.txt
Reading content for document 6: companyProfile.txt
Reading content for document 7: mn_address_statement.txt
Classifying 7 documents in a single batch...
Sending batch classification request to AI...
Received batch classification response from AI
Classified document 1: Chee_chung_address.txt as proof_of_address
Classified document 2: MM_ID_MichealMcKay_passport.txt as identity_document
Classified document 3: MM_address_statement.txt as proof_of_address
Classified document 4: MN_ID_MonikaNowaczyk_passport.txt as identity_document
Classified document 5: chee_chung_idNRIC.txt as identity_document
Classified document 6: companyProfile.txt as company_profile
Classified document 7: mn_address_statement.txt as proof_of_address
Extracting information from 7 documents...
Sending prompt to extract information...
Fetching documents for client ID: 1...
Reading content for document 1: Chee_chung_address.txt
Reading content for document 2: MM_ID_MichealMcKay_passport.txt
Reading content for document 3: MM_address_statement.txt
Reading content for document 4: MN_ID_MonikaNowaczyk_passport.txt
Reading content for document 5: chee_chung_idNRIC.txt
Reading content for document 6: companyProfile.txt
Reading content for document 7: mn_address_statement.txt
Classifying 7 documents in a single batch...
All documents already have classifications. Skipping classification step.
Extracting information from 7 documents...
Sending prompt to extract information...
Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_numbers": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "S7247859B"}}, "id_types": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "NRIC"}}, "nationalities": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "SINGAPORE"}}, "addresses": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747"}, "chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {}}, {"full_name": "Michael Andrew Mckay", "alternative_names": ["Micheal Andrew Mckay", "Mckay Micheal Andrew"], "id_numbers": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "AJ855933"}}, "id_types": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"MM_address_statement.txt": {"documentId": 3, "documentName": "MM_address_statement.txt", "documentType": "proof_of_address", "value": "No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "30 shares"}}}, {"full_name": "Monika Nowaczyk", "alternative_names": ["Nowaczyk Monika"], "id_numbers": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "HG066207"}}, "id_types": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"mn_address_statement.txt": {"documentId": 7, "documentName": "mn_address_statement.txt", "documentType": "proof_of_address", "value": "104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "70 shares"}}}, {"full_name": "Ng Cheng Wei", "alternative_names": [], "id_numbers": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "S8829811Z"}}, "id_types": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "NRIC (Implied)"}}, "nationalities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE CITIZEN"}}, "addresses": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Secretary"}, "shares_owned": {}}], "companies": [{"company_name": "BEEBEE+BONGO PTE. LTD.", "registration_number": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "202103382H"}}, "jurisdiction": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE"}}, "address": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "directors": ["Micheal Andrew Mckay", "Monika Nowaczyk", "Tham Chee Chung"], "shareholders": ["Michael Andrew Mckay (30 shares)", "Monika Nowaczyk (70 shares)"], "company_activities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": ["WHOLESALE OF TOYS AND GAMES", "RETAIL SALE OF GAMES AND TOYS"]}}, "shares_issued": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "100 shares"}}}, {"company_name": "Singapore Telecommunications Limited", "registration_number": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "199201624D"}}, "jurisdiction": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "Singapore"}}, "address": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "BRAS BASAH POST OFFICE PO BOX 294 SINGAPORE 911810"}}, "directors": [], "shareholders": [], "company_activities": {}, "shares_issued": {}}]}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_n...
Successfully extracted information about 4 individuals and 2 companies
Processing discrepancies in extracted data...
Storing extracted information...
Stored new individual: Tham Chee Chung
Stored new individual: Michael Andrew Mckay
Stored new individual: Monika Nowaczyk
Stored new individual: Ng Cheng Wei
Stored new company: BEEBEE+BONGO PTE. LTD.

=== Processing directors for company: BEEBEE+BONGO PTE. LTD. ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: BEEBEE+BONGO PTE. LTD.
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: WHOLESALE OF TOYS AND GAMES,RETAIL SALE OF GAMES AND TOYS
e. Intended Registered Address: 20A TANJONG PAGAR ROAD SINGAPORE (088443)

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
| Michael Andrew Mckay (No source) | AJ855933 (MM_ID_MichealMcKay_passport.txt) | Passport (MM_ID_MichealMcKay_passport.txt) | CANADIAN (MM_ID_MichealMcKay_passport.txt) | No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh (MM_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing telephone number; Missing email address |
Stored/updated director information for Michael Andrew Mckay
| Monika Nowaczyk (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing telephone number; Missing email address |
Stored/updated director information for Monika Nowaczyk
| Tham Chee Chung (No source) | S7247859B (chee_chung_idNRIC.txt) | NRIC (chee_chung_idNRIC.txt) | SINGAPORE (chee_chung_idNRIC.txt) | APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747 (Chee_chung_address.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747 vs APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747 (Sources: Chee_chung_address.txt, chee_chung_idNRIC.txt) |
Stored/updated director information for Tham Chee Chung

Company Verification Status: pending

=== End of Processing ===


=== Processing shareholders for company: BEEBEE+BONGO PTE. LTD. ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Michael Andrew Mckay (30 shares)', 'Monika Nowaczyk (70 shares)' ]
Stored/updated individual shareholder information for Michael Andrew Mckay
| Michael Andrew Mckay | 30 shares (Declaration) | Missing (No source) | AJ855933 (MM_ID_MichealMcKay_passport.txt) | Passport (MM_ID_MichealMcKay_passport.txt) | CANADIAN (MM_ID_MichealMcKay_passport.txt) | No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh (MM_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing passport; Missing email |
Stored/updated individual shareholder information for Monika Nowaczyk
| Monika Nowaczyk | 70 shares (Declaration) | Missing (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing passport; Missing email |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Stored new company: Singapore Telecommunications Limited

=== Processing directors for company: Singapore Telecommunications Limited ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: Singapore Telecommunications Limited
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: Unknown
e. Intended Registered Address: BRAS BASAH POST OFFICE PO BOX 294 SINGAPORE 911810
No directors found for this company


=== Processing shareholders for company: Singapore Telecommunications Limited ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: []

Company Shareholder KYC Status: verified

=== End of Shareholder Processing ===

Received response, parsing...
resultText is 
Could not find valid JSON object markers in response
Error extracting information: Error: Could not locate JSON object in response
    at execute (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:3519:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async handler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4555:28)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2389:20
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 16897,
  [Symbol(trigger_async_id_symbol)]: 14153,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 16897,
  [Symbol(trigger_async_id_symbol)]: 14153,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
[32mINFO[39m [2025-04-26 14:02:43.619 +0530] (Mastra CLI): [36m[Mastra Dev] - Bundling finished, restarting server...[39m
[34mDEBUG[39m [2025-04-26 14:02:43.620 +0530] (Mastra CLI): [36mStopping current server...[39m
[32mINFO[39m [2025-04-26 14:02:43.624 +0530] (Mastra CLI): [36m[Mastra Dev] - Starting server...[39m
[32mINFO[39m [2025-04-26 14:02:46.136 +0530] (Mastra): [36mü¶Ñ Mastra API running on port 4111/api[39m
[32mINFO[39m [2025-04-26 14:02:46.141 +0530] (Mastra): [36müìö Open API documentation available at http://localhost:4111/openapi.json[39m
[32mINFO[39m [2025-04-26 14:02:46.142 +0530] (Mastra): [36müß™ Swagger UI available at http://localhost:4111/swagger-ui[39m
[32mINFO[39m [2025-04-26 14:02:46.142 +0530] (Mastra): [36müë®‚Äçüíª Playground available at http://localhost:4111/[39m
[32mINFO[39m [2025-04-26 14:02:47.163 +0530] (Mastra CLI): [36m[Mastra Dev] - Bundling finished, restarting server...[39m
[34mDEBUG[39m [2025-04-26 14:02:47.164 +0530] (Mastra CLI): [36mStopping current server...[39m
[32mINFO[39m [2025-04-26 14:02:47.167 +0530] (Mastra CLI): [36m[Mastra Dev] - Starting server...[39m
[32mINFO[39m [2025-04-26 14:02:49.584 +0530] (Mastra): [36mü¶Ñ Mastra API running on port 4111/api[39m
[32mINFO[39m [2025-04-26 14:02:49.589 +0530] (Mastra): [36müìö Open API documentation available at http://localhost:4111/openapi.json[39m
[32mINFO[39m [2025-04-26 14:02:49.590 +0530] (Mastra): [36müß™ Swagger UI available at http://localhost:4111/swagger-ui[39m
[32mINFO[39m [2025-04-26 14:02:49.590 +0530] (Mastra): [36müë®‚Äçüíª Playground available at http://localhost:4111/[39m
[32mINFO[39m [2025-04-26 14:03:01.692 +0530] (Mastra CLI): [36m[Mastra Dev] - Bundling finished, restarting server...[39m
[34mDEBUG[39m [2025-04-26 14:03:01.692 +0530] (Mastra CLI): [36mStopping current server...[39m
[32mINFO[39m [2025-04-26 14:03:01.699 +0530] (Mastra CLI): [36m[Mastra Dev] - Starting server...[39m
[32mINFO[39m [2025-04-26 14:03:02.400 +0530] (Mastra CLI): [36m[Mastra Dev] - Bundling finished, restarting server...[39m
[32mINFO[39m [2025-04-26 14:03:04.381 +0530] (Mastra): [36mü¶Ñ Mastra API running on port 4111/api[39m
[32mINFO[39m [2025-04-26 14:03:04.386 +0530] (Mastra): [36müìö Open API documentation available at http://localhost:4111/openapi.json[39m
[32mINFO[39m [2025-04-26 14:03:04.387 +0530] (Mastra): [36müß™ Swagger UI available at http://localhost:4111/swagger-ui[39m
[32mINFO[39m [2025-04-26 14:03:04.387 +0530] (Mastra): [36müë®‚Äçüíª Playground available at http://localhost:4111/[39m
Fetching documents for client ID: 1...
Reading content for document 1: Chee_chung_address.txt
Reading content for document 2: MM_ID_MichealMcKay_passport.txt
Reading content for document 3: MM_address_statement.txt
Reading content for document 4: MN_ID_MonikaNowaczyk_passport.txt
Reading content for document 5: chee_chung_idNRIC.txt
Reading content for document 6: companyProfile.txt
Reading content for document 7: mn_address_statement.txt
Classifying 7 documents in a single batch...
All documents already have classifications. Skipping classification step.
Extracting information from 7 documents...
Sending prompt to extract information...
Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_numbers": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "S7247859B"}}, "id_types": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "NRIC"}}, "nationalities": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "SINGAPORE"}}, "addresses": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747"}, "chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {}}, {"full_name": "Michael Andrew Mckay", "alternative_names": ["Mckay Micheal Andrew"], "id_numbers": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "AJ855933"}}, "id_types": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"MM_address_statement.txt": {"documentId": 3, "documentName": "MM_address_statement.txt", "documentType": "proof_of_address", "value": "No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "30 shares"}}}, {"full_name": "Monika Nowaczyk", "alternative_names": [], "id_numbers": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "HG066207"}}, "id_types": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"mn_address_statement.txt": {"documentId": 7, "documentName": "mn_address_statement.txt", "documentType": "proof_of_address", "value": "104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "70 shares"}}}, {"full_name": "Ng Cheng Wei", "alternative_names": [], "id_numbers": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "S8829811Z"}}, "id_types": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "NRIC (Implied)"}}, "nationalities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE CITIZEN"}}, "addresses": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Secretary"}, "shares_owned": {}}], "companies": [{"company_name": "BEEBEE+BONGO PTE. LTD.", "registration_number": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "202103382H"}}, "jurisdiction": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE"}}, "address": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "directors": ["Micheal Andrew Mckay", "Monika Nowaczyk", "Tham Chee Chung"], "shareholders": ["Michael Andrew Mckay (30 shares)", "Monika Nowaczyk (70 shares)"], "company_activities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": ["WHOLESALE OF TOYS AND GAMES", "RETAIL SALE OF GAMES AND TOYS"]}}, "shares_issued": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "100 shares"}}}, {"company_name": "Singtel", "registration_number": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "199201624D"}}, "jurisdiction": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "Singapore"}}, "address": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "BRAS BASAH POST OFFICE PO BOX 294 SINGAPORE 911810"}}, "directors": [], "shareholders": [], "company_activities": {}, "shares_issued": {}}]}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_n...
Successfully extracted information about 4 individuals and 2 companies
Processing discrepancies in extracted data...
Storing extracted information...
Stored new individual: Tham Chee Chung
Stored new individual: Michael Andrew Mckay
Stored new individual: Monika Nowaczyk
Stored new individual: Ng Cheng Wei
Stored new company: BEEBEE+BONGO PTE. LTD.

=== Processing directors for company: BEEBEE+BONGO PTE. LTD. ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: BEEBEE+BONGO PTE. LTD.
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: WHOLESALE OF TOYS AND GAMES,RETAIL SALE OF GAMES AND TOYS
e. Intended Registered Address: 20A TANJONG PAGAR ROAD SINGAPORE (088443)

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
| Micheal Andrew Mckay (Unknown) | Unknown | Unknown | Unknown | Unknown | Unknown | Unknown | pending | Missing all required information |
Director already exists: Monika Nowaczyk - Skipping to avoid duplicate
Director already exists: Tham Chee Chung - Skipping to avoid duplicate

Company Verification Status: pending

=== End of Processing ===


=== Processing shareholders for company: BEEBEE+BONGO PTE. LTD. ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Michael Andrew Mckay (30 shares)', 'Monika Nowaczyk (70 shares)' ]
Error storing individual shareholder data for Michael Andrew Mckay: Request failed with status code 500
| Michael Andrew Mckay | 30 shares (Declaration) | Missing (No source) | AJ855933 (MM_ID_MichealMcKay_passport.txt) | Passport (MM_ID_MichealMcKay_passport.txt) | CANADIAN (MM_ID_MichealMcKay_passport.txt) | No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh (MM_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing email |
Error storing individual shareholder data for Monika Nowaczyk: Request failed with status code 500
| Monika Nowaczyk | 70 shares (Declaration) | Missing (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing email |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Stored new company: Singtel

=== Processing directors for company: Singtel ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: Singtel
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: Unknown
e. Intended Registered Address: BRAS BASAH POST OFFICE PO BOX 294 SINGAPORE 911810
No directors found for this company


=== Processing shareholders for company: Singtel ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: []

Company Shareholder KYC Status: verified

=== End of Shareholder Processing ===

Fetching documents for client ID: 1...
Reading content for document 1: Chee_chung_address.txt
Reading content for document 2: MM_ID_MichealMcKay_passport.txt
Reading content for document 3: MM_address_statement.txt
Reading content for document 4: MN_ID_MonikaNowaczyk_passport.txt
Reading content for document 5: chee_chung_idNRIC.txt
Reading content for document 6: companyProfile.txt
Reading content for document 7: mn_address_statement.txt
Classifying 7 documents in a single batch...
Sending batch classification request to AI...
Received batch classification response from AI
Classified document 1: Chee_chung_address.txt as proof_of_address
Classified document 2: MM_ID_MichealMcKay_passport.txt as identity_document
Classified document 3: MM_address_statement.txt as proof_of_address
Classified document 4: MN_ID_MonikaNowaczyk_passport.txt as identity_document
Classified document 5: chee_chung_idNRIC.txt as identity_document
Classified document 6: companyProfile.txt as company_profile
Classified document 7: mn_address_statement.txt as proof_of_address
Extracting information from 7 documents...
Sending prompt to extract information...
Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_numbers": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "S7247859B"}}, "id_types": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "NRIC"}}, "nationalities": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "SINGAPORE"}}, "addresses": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747"}, "chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {}}, {"full_name": "Michael Andrew Mckay", "alternative_names": ["Mckay Micheal Andrew"], "id_numbers": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "AJ855933"}}, "id_types": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"MM_address_statement.txt": {"documentId": 3, "documentName": "MM_address_statement.txt", "documentType": "proof_of_address", "value": "No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh"}, "companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "APT 702, #38 STREET 426, PHNOM PENH, CAMBODIA"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "30 shares"}}}, {"full_name": "Monika Nowaczyk", "alternative_names": [], "id_numbers": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "HG066207"}}, "id_types": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"mn_address_statement.txt": {"documentId": 7, "documentName": "mn_address_statement.txt", "documentType": "proof_of_address", "value": "104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh"}, "companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "HOUSE 104BE02 STREET 470, PHNOM PENH, CAMBODIA"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "70 shares"}}}, {"full_name": "Ng Cheng Wei", "alternative_names": [], "id_numbers": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "S8829811Z"}}, "id_types": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "NRIC (Implied)"}}, "nationalities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE CITIZEN"}}, "addresses": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Secretary"}, "shares_owned": {}}], "companies": [{"company_name": "BEEBEE+BONGO PTE. LTD.", "registration_number": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "202103382H"}}, "jurisdiction": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE"}}, "address": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "directors": ["Micheal Andrew Mckay", "Monika Nowaczyk", "Tham Chee Chung"], "shareholders": ["Michael Andrew Mckay (30%)", "Monika Nowaczyk (70%)"], "company_activities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": ["WHOLESALE OF TOYS AND GAMES", "RETAIL SALE OF GAMES AND TOYS"]}}, "shares_issued": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "100 shares"}}}]}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_n...
Successfully extracted information about 4 individuals and 1 companies
Processing discrepancies in extracted data...
Storing extracted information...
Stored new individual: Tham Chee Chung
Stored new individual: Michael Andrew Mckay
Stored new individual: Monika Nowaczyk
Stored new individual: Ng Cheng Wei
Stored new company: BEEBEE+BONGO PTE. LTD.

=== Processing directors for company: BEEBEE+BONGO PTE. LTD. ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: BEEBEE+BONGO PTE. LTD.
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: WHOLESALE OF TOYS AND GAMES,RETAIL SALE OF GAMES AND TOYS
e. Intended Registered Address: 20A TANJONG PAGAR ROAD SINGAPORE (088443)

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
| Micheal Andrew Mckay (Unknown) | Unknown | Unknown | Unknown | Unknown | Unknown | Unknown | pending | Missing all required information |
| Monika Nowaczyk (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh vs HOUSE 104BE02 STREET 470, PHNOM PENH, CAMBODIA (Sources: mn_address_statement.txt, companyProfile.txt) |
Stored/updated director information for Monika Nowaczyk
| Tham Chee Chung (No source) | S7247859B (chee_chung_idNRIC.txt) | NRIC (chee_chung_idNRIC.txt) | SINGAPORE (chee_chung_idNRIC.txt) | APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747 (Chee_chung_address.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747 vs APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747 (Sources: Chee_chung_address.txt, chee_chung_idNRIC.txt) |
Stored/updated director information for Tham Chee Chung

Company Verification Status: pending

=== End of Processing ===


=== Processing shareholders for company: BEEBEE+BONGO PTE. LTD. ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Michael Andrew Mckay (30%)', 'Monika Nowaczyk (70%)' ]
Stored/updated individual shareholder information for Michael Andrew Mckay
| Michael Andrew Mckay | 30% (Declaration) | Missing (No source) | AJ855933 (MM_ID_MichealMcKay_passport.txt) | Passport (MM_ID_MichealMcKay_passport.txt) | CANADIAN (MM_ID_MichealMcKay_passport.txt) | No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh (MM_address_statement.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh vs APT 702, #38 STREET 426, PHNOM PENH, CAMBODIA (Sources: MM_address_statement.txt, companyProfile.txt) |
Stored/updated individual shareholder information for Monika Nowaczyk
| Monika Nowaczyk | 70% (Declaration) | Missing (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh vs HOUSE 104BE02 STREET 470, PHNOM PENH, CAMBODIA (Sources: mn_address_statement.txt, companyProfile.txt) |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Fetching documents for client ID: 2...
Reading content for document 8: 00000000 Template - Engagement - Incorporation Form - PLC.pdf
Reading content for document 9: Director Appointment Truffles AI.docx
Reading content for document 10: Director Registry Truffles AI.docx
Reading content for document 11: John Doe Full.docx
Reading content for document 12: John Doe Passport Full.docx
Reading content for document 13: Proof of Address John Doe (3).docx
Reading content for document 14: Truffles AI Holdings Company Profile.docx
Reading content for document 15: Truffles AI Shareholder Registry.docx
Classifying 8 documents in a single batch...
Sending batch classification request to AI...
Received batch classification response from AI
Classified document 8: 00000000 Template - Engagement - Incorporation Form - PLC.pdf as other
Classified document 9: Director Appointment Truffles AI.docx as director_appointment
Classified document 10: Director Registry Truffles AI.docx as director_registry
Classified document 11: John Doe Full.docx as identity_document
Classified document 12: John Doe Passport Full.docx as identity_document
Classified document 13: Proof of Address John Doe (3).docx as proof_of_address
Classified document 14: Truffles AI Holdings Company Profile.docx as company_profile
Classified document 15: Truffles AI Shareholder Registry.docx as shareholder_registry
Extracting information from 8 documents...
Sending prompt to extract information...
Fetching documents for client ID: 2...
Reading content for document 8: 00000000 Template - Engagement - Incorporation Form - PLC.pdf
Reading content for document 9: Director Appointment Truffles AI.docx
Reading content for document 10: Director Registry Truffles AI.docx
Reading content for document 11: John Doe Full.docx
Reading content for document 12: John Doe Passport Full.docx
Reading content for document 13: Proof of Address John Doe (3).docx
Reading content for document 14: Truffles AI Holdings Company Profile.docx
Reading content for document 15: Truffles AI Shareholder Registry.docx
Classifying 8 documents in a single batch...
All documents already have classifications. Skipping classification step.
Extracting information from 8 documents...
Sending prompt to extract information...
Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "John Doe", "alternative_names": ["Johnathan Doe"], "id_numbers": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "S8888999C"}, "John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "S1234567D"}, "John Doe Passport Full.docx": {"documentId": 12, "documentName": "John Doe Passport Full.docx", "documentType": "identity_document", "value": "X1234567"}}, "id_types": {"John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "NRIC"}, "John Doe Passport Full.docx": {"documentId": 12, "documentName": "John Doe Passport Full.docx", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "Singaporean"}, "John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "Singaporean"}, "John Doe Passport Full.docx": {"documentId": 12, "documentName": "John Doe Passport Full.docx", "documentType": "identity_document", "value": "United States of America"}}, "addresses": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "10 Marina Bay Sands, Tower 3, #25-02, Singapore 018956"}, "John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "123 Orchard Road, #10-01, Singapore 238888"}, "Proof of Address John Doe (3).docx": {"documentId": 13, "documentName": "Proof of Address John Doe (3).docx", "documentType": "proof_of_address", "value": "123 Orchard Road, #10-01, Singapore 238888"}}, "emails": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "john.doe@truffles.ai"}}, "phones": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "+65 9000 1234"}, "John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "+65 9123 4567"}}, "roles": {"Truffles AI Pte Ltd": "Director"}, "shares_owned": {}}, {"full_name": "Alice Tan", "alternative_names": [], "id_numbers": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "S1234567A"}}, "id_types": {}, "nationalities": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "Singaporean"}}, "addresses": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "21 Bukit Timah Road, #05-01, Singapore 229837"}}, "emails": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "alice.tan@truffles.ai"}}, "phones": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "+65 9123 4567"}}, "roles": {"Truffles AI Pte Ltd": "Director", "Truffles AI Pte Ltd": "Chairperson", "Truffles AI Holdings Ltd": "Director"}, "shares_owned": {"Truffles AI Shareholder Registry.docx": {"documentId": 15, "documentName": "Truffles AI Shareholder Registry.docx", "documentType": "shareholder_registry", "companyName": "Truffles AI Holdings Ltd", "value": "60%"}}, "price_per_share": {}}, {"full_name": "Michael Zhou", "alternative_names": [], "id_numbers": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "P0987654B"}}, "id_types": {}, "nationalities": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "American"}}, "addresses": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "500 Market Street, San Francisco, CA, USA"}}, "emails": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "michael.zhou@truffles.ai"}}, "phones": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "+1 415 123 4567"}}, "roles": {"Truffles AI Pte Ltd": "Alternate Director", "Truffles AI Holdings Ltd": "Director"}, "shares_owned": {"Truffles AI Shareholder Registry.docx": {"documentId": 15, "documentName": "Truffles AI Shareholder Registry.docx", "documentType": "shareholder_registry", "companyName": "Truffles AI Holdings Ltd", "value": "40%"}}, "price_per_share": {}}, {"full_name": "Priya Khanna", "alternative_names": [], "id_numbers": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "A1122334Z"}}, "id_types": {}, "nationalities": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "Indian"}}, "addresses": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "401 Residency Road, Bengaluru, Karnataka, India"}}, "emails": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "priya.khanna@truffles.ai"}}, "phones": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "+91 98450 12345"}}, "roles": {}, "shares_owned": {}}], "companies": [{"company_name": "Truffles AI Pte Ltd", "registration_number": {}, "jurisdiction": {}, "address": {}, "directors": ["John Doe", "Alice Tan", "Michael Zhou", "Priya Khanna"], "shareholders": ["Truffles AI Holdings Ltd (100%)"], "company_activities": {}, "shares_issued": {"Truffles AI Shareholder Registry.docx": {"documentId": 15, "documentName": "Truffles AI Shareholder Registry.docx", "documentType": "shareholder_registry", "value": "100,000 shares"}}, "price_per_share": {}}, {"company_name": "Truffles AI Holdings Ltd", "registration_number": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "202412345H"}}, "jurisdiction": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "British Virgin Islands"}}, "address": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "14 Palm Grove, Roadtown, Tortola, BVI"}}, "directors": ["Alice Tan", "Michael Zhou"], "shareholders": ["Alice Tan (60%)", "Michael Zhou (40%)"], "company_activities": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "Investment Holding"}}, "shares_issued": {}, "price_per_share": {}}, {"company_name": "Truffles AI Research Inc", "registration_number": {}, "jurisdiction": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "Delaware"}}, "address": {}, "directors": [], "shareholders": ["Truffles AI Holdings Ltd (100%)"], "company_activities": {}, "shares_issued": {}, "price_per_share": {}}]}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "John Doe", "alternative_names": ["Johnathan Doe"], "id_numbers": {"D...
Successfully extracted information about 4 individuals and 3 companies
Processing discrepancies in extracted data...
Storing extracted information...
Stored new individual: John Doe
Stored new individual: Alice Tan
Stored new individual: Michael Zhou
Stored new individual: Priya Khanna
Stored new company: Truffles AI Pte Ltd

=== Processing directors for company: Truffles AI Pte Ltd ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: Truffles AI Pte Ltd
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: Unknown
e. Intended Registered Address: Unknown

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
| John Doe (No source) | S8888999C (Director Registry Truffles AI.docx) | NRIC (John Doe Full.docx) | Singaporean (Director Registry Truffles AI.docx) | 10 Marina Bay Sands, Tower 3, #25-02, Singapore 018956 (Director Registry Truffles AI.docx) | +65 9000 1234 (Director Registry Truffles AI.docx) | john.doe@truffles.ai (Director Registry Truffles AI.docx) | not_verified | Discrepancy in id_numbers: S8888999C vs S1234567D vs X1234567 (Sources: Director Registry Truffles AI.docx, John Doe Full.docx, John Doe Passport Full.docx); Discrepancy in id_types: NRIC vs Passport (Sources: John Doe Full.docx, John Doe Passport Full.docx); Discrepancy in nationalities: Singaporean vs United States of America (Sources: Director Registry Truffles AI.docx, John Doe Full.docx, John Doe Passport Full.docx); Discrepancy in addresses: 10 Marina Bay Sands, Tower 3, #25-02, Singapore 018956 vs 123 Orchard Road, #10-01, Singapore 238888 (Sources: Director Registry Truffles AI.docx, John Doe Full.docx, Proof of Address John Doe (3).docx); Discrepancy in phones: +65 9000 1234 vs +65 9123 4567 (Sources: Director Registry Truffles AI.docx, John Doe Full.docx) |
Stored/updated director information for John Doe
| Alice Tan (No source) | S1234567A (Director Registry Truffles AI.docx) | Missing (No source) | Singaporean (Director Registry Truffles AI.docx) | 21 Bukit Timah Road, #05-01, Singapore 229837 (Director Registry Truffles AI.docx) | +65 9123 4567 (Director Registry Truffles AI.docx) | alice.tan@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing identification document; Missing proof of address |
Stored/updated director information for Alice Tan
| Michael Zhou (No source) | P0987654B (Director Registry Truffles AI.docx) | Missing (No source) | American (Director Registry Truffles AI.docx) | 500 Market Street, San Francisco, CA, USA (Director Registry Truffles AI.docx) | +1 415 123 4567 (Director Registry Truffles AI.docx) | michael.zhou@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing identification document; Missing proof of address |
Stored/updated director information for Michael Zhou
| Priya Khanna (No source) | A1122334Z (Director Registry Truffles AI.docx) | Missing (No source) | Indian (Director Registry Truffles AI.docx) | 401 Residency Road, Bengaluru, Karnataka, India (Director Registry Truffles AI.docx) | +91 98450 12345 (Director Registry Truffles AI.docx) | priya.khanna@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing identification document; Missing proof of address |
Stored/updated director information for Priya Khanna

Company Verification Status: pending

=== End of Processing ===


=== Processing shareholders for company: Truffles AI Pte Ltd ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Truffles AI Holdings Ltd (100%)' ]
| Truffles AI Holdings Ltd (Unknown) | Unknown | Unknown | Unknown | Unknown | Unknown | Unknown | Unknown | Unknown | pending | Missing info |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Stored new company: Truffles AI Holdings Ltd

=== Processing directors for company: Truffles AI Holdings Ltd ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: Truffles AI Holdings Ltd
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: Investment Holding
e. Intended Registered Address: 14 Palm Grove, Roadtown, Tortola, BVI

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
| Alice Tan (No source) | S1234567A (Director Registry Truffles AI.docx) | Missing (No source) | Singaporean (Director Registry Truffles AI.docx) | 21 Bukit Timah Road, #05-01, Singapore 229837 (Director Registry Truffles AI.docx) | +65 9123 4567 (Director Registry Truffles AI.docx) | alice.tan@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing identification document; Missing proof of address |
Stored/updated director information for Alice Tan
| Michael Zhou (No source) | P0987654B (Director Registry Truffles AI.docx) | Missing (No source) | American (Director Registry Truffles AI.docx) | 500 Market Street, San Francisco, CA, USA (Director Registry Truffles AI.docx) | +1 415 123 4567 (Director Registry Truffles AI.docx) | michael.zhou@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing identification document; Missing proof of address |
Stored/updated director information for Michael Zhou

Company Verification Status: pending

=== End of Processing ===


=== Processing shareholders for company: Truffles AI Holdings Ltd ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Alice Tan (60%)', 'Michael Zhou (40%)' ]
Stored/updated individual shareholder information for Alice Tan
| Alice Tan | 60% (Declaration) | Missing (No source) | S1234567A (Director Registry Truffles AI.docx) | Missing (No source) | Singaporean (Director Registry Truffles AI.docx) | 21 Bukit Timah Road, #05-01, Singapore 229837 (Director Registry Truffles AI.docx) | +65 9123 4567 (Director Registry Truffles AI.docx) | alice.tan@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing NRIC; Missing proof of address |
Stored/updated individual shareholder information for Michael Zhou
| Michael Zhou | 40% (Declaration) | Missing (No source) | P0987654B (Director Registry Truffles AI.docx) | Missing (No source) | American (Director Registry Truffles AI.docx) | 500 Market Street, San Francisco, CA, USA (Director Registry Truffles AI.docx) | +1 415 123 4567 (Director Registry Truffles AI.docx) | michael.zhou@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing passport; Missing proof of address |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Stored new company: Truffles AI Research Inc

=== Processing directors for company: Truffles AI Research Inc ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: Truffles AI Research Inc
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: Unknown
e. Intended Registered Address: Unknown
No directors found for this company


=== Processing shareholders for company: Truffles AI Research Inc ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Truffles AI Holdings Ltd (100%)' ]
Stored/updated corporate shareholder information for Truffles AI Holdings Ltd
| Truffles AI Holdings Ltd | 100% (Declaration) | Missing (No source) | 202412345H (Truffles AI Holdings Company Profile.docx) | Registration Number (System) | British Virgin Islands (Truffles AI Holdings Company Profile.docx) | 14 Palm Grove, Roadtown, Tortola, BVI (Truffles AI Holdings Company Profile.docx) | Missing (No source) | Missing (No source) | pending | Missing incorporation certificate; Missing register of directors; Missing proof of address; Missing register of members; Missing email & signatory |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "John Doe", "alternative_names": ["Johnathan Doe"], "id_numbers": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "S8888999C"}, "John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "S1234567D"}, "John Doe Passport Full.docx": {"documentId": 12, "documentName": "John Doe Passport Full.docx", "documentType": "identity_document", "value": "X1234567"}}, "id_types": {"John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "NRIC"}, "John Doe Passport Full.docx": {"documentId": 12, "documentName": "John Doe Passport Full.docx", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "Singaporean"}, "John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "Singaporean"}, "John Doe Passport Full.docx": {"documentId": 12, "documentName": "John Doe Passport Full.docx", "documentType": "identity_document", "value": "United States of America"}}, "addresses": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "10 Marina Bay Sands, Tower 3, #25-02, Singapore 018956"}, "John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "123 Orchard Road, #10-01, Singapore 238888"}, "Proof of Address John Doe (3).docx": {"documentId": 13, "documentName": "Proof of Address John Doe (3).docx", "documentType": "proof_of_address", "value": "123 Orchard Road, #10-01, Singapore 238888"}}, "emails": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "john.doe@truffles.ai"}}, "phones": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "+65 9000 1234"}, "John Doe Full.docx": {"documentId": 11, "documentName": "John Doe Full.docx", "documentType": "identity_document", "value": "+65 9123 4567"}}, "roles": {"Truffles AI Pte Ltd": "Director"}, "shares_owned": {}}, {"full_name": "Alice Tan", "alternative_names": [], "id_numbers": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "S1234567A"}}, "id_types": {}, "nationalities": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "Singaporean"}}, "addresses": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "21 Bukit Timah Road, #05-01, Singapore 229837"}}, "emails": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "alice.tan@truffles.ai"}}, "phones": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "+65 9123 4567"}}, "roles": {"Truffles AI Pte Ltd": "Director", "Truffles AI Pte Ltd": "Chairperson", "Truffles AI Holdings Ltd": "Director"}, "shares_owned": {"Truffles AI Shareholder Registry.docx": {"documentId": 15, "documentName": "Truffles AI Shareholder Registry.docx", "documentType": "shareholder_registry", "companyName": "Truffles AI Holdings Ltd", "value": "60%"}}, "price_per_share": {}}, {"full_name": "Michael Zhou", "alternative_names": [], "id_numbers": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "P0987654B"}}, "id_types": {}, "nationalities": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "American"}}, "addresses": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "500 Market Street, San Francisco, CA, USA"}}, "emails": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "michael.zhou@truffles.ai"}}, "phones": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "+1 415 123 4567"}}, "roles": {"Truffles AI Pte Ltd": "Alternate Director", "Truffles AI Holdings Ltd": "Director"}, "shares_owned": {"Truffles AI Shareholder Registry.docx": {"documentId": 15, "documentName": "Truffles AI Shareholder Registry.docx", "documentType": "shareholder_registry", "companyName": "Truffles AI Holdings Ltd", "value": "40%"}}, "price_per_share": {}}, {"full_name": "Priya Khanna", "alternative_names": [], "id_numbers": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "A1122334Z"}}, "id_types": {}, "nationalities": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "Indian"}}, "addresses": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "401 Residency Road, Bengaluru, Karnataka, India"}}, "emails": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "priya.khanna@truffles.ai"}}, "phones": {"Director Registry Truffles AI.docx": {"documentId": 10, "documentName": "Director Registry Truffles AI.docx", "documentType": "director_registry", "value": "+91 98450 12345"}}, "roles": {}, "shares_owned": {}}], "companies": [{"company_name": "Truffles AI Pte Ltd", "registration_number": {}, "jurisdiction": {}, "address": {}, "directors": ["John Doe", "Alice Tan", "Michael Zhou", "Priya Khanna"], "shareholders": ["Truffles AI Holdings Ltd (100%)"], "company_activities": {}, "shares_issued": {"Truffles AI Shareholder Registry.docx": {"documentId": 15, "documentName": "Truffles AI Shareholder Registry.docx", "documentType": "shareholder_registry", "value": "100,000 shares"}}}, {"company_name": "Truffles AI Holdings Ltd", "registration_number": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "202412345H"}}, "jurisdiction": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "British Virgin Islands"}}, "address": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "14 Palm Grove, Roadtown, Tortola, BVI"}}, "directors": ["Alice Tan", "Michael Zhou"], "shareholders": ["Alice Tan (60%)", "Michael Zhou (40%)"], "company_activities": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "Investment Holding"}}, "shares_issued": {}}, {"company_name": "Truffles AI Research Inc", "registration_number": {}, "jurisdiction": {"Truffles AI Holdings Company Profile.docx": {"documentId": 14, "documentName": "Truffles AI Holdings Company Profile.docx", "documentType": "company_profile", "value": "Delaware"}}, "address": {}, "directors": [], "shareholders": ["Truffles AI Holdings Ltd (100%)"], "company_activities": {}, "shares_issued": {}}]}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "John Doe", "alternative_names": ["Johnathan Doe"], "id_numbers": {"D...
Successfully extracted information about 4 individuals and 3 companies
Processing discrepancies in extracted data...
Storing extracted information...
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50495,
  [Symbol(trigger_async_id_symbol)]: 38280,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50495,
  [Symbol(trigger_async_id_symbol)]: 38280,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50500,
  [Symbol(trigger_async_id_symbol)]: 50494,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50500,
  [Symbol(trigger_async_id_symbol)]: 50494,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50512,
  [Symbol(trigger_async_id_symbol)]: 50499,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50512,
  [Symbol(trigger_async_id_symbol)]: 50499,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50520,
  [Symbol(trigger_async_id_symbol)]: 50511,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50520,
  [Symbol(trigger_async_id_symbol)]: 50511,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50525,
  [Symbol(trigger_async_id_symbol)]: 50519,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50525,
  [Symbol(trigger_async_id_symbol)]: 50519,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50548,
  [Symbol(trigger_async_id_symbol)]: 50524,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 50548,
  [Symbol(trigger_async_id_symbol)]: 50524,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
Stored new individual: John Doe
Stored new individual: Alice Tan
Stored new individual: Michael Zhou
Stored new individual: Priya Khanna
Stored new company: Truffles AI Pte Ltd

=== Processing directors for company: Truffles AI Pte Ltd ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: Truffles AI Pte Ltd
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: Unknown
e. Intended Registered Address: Unknown

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
Director already exists: John Doe - Skipping to avoid duplicate
Director already exists: Alice Tan - Skipping to avoid duplicate
Director already exists: Michael Zhou - Skipping to avoid duplicate
Director already exists: Priya Khanna - Skipping to avoid duplicate

Company Verification Status: verified

=== End of Processing ===


=== Processing shareholders for company: Truffles AI Pte Ltd ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Truffles AI Holdings Ltd (100%)' ]
Error storing corporate shareholder data for Truffles AI Holdings Ltd: Request failed with status code 500
| Truffles AI Holdings Ltd | 100% (Declaration) | Missing (No source) | 202412345H (Truffles AI Holdings Company Profile.docx) | Registration Number (System) | British Virgin Islands (Truffles AI Holdings Company Profile.docx) | 14 Palm Grove, Roadtown, Tortola, BVI (Truffles AI Holdings Company Profile.docx) | Missing (No source) | Missing (No source) | pending | Missing incorporation certificate; Missing register of directors; Missing proof of address; Missing register of members; Missing email & signatory |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Stored new company: Truffles AI Holdings Ltd

=== Processing directors for company: Truffles AI Holdings Ltd ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: Truffles AI Holdings Ltd
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: Investment Holding
e. Intended Registered Address: 14 Palm Grove, Roadtown, Tortola, BVI

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
Director already exists: Alice Tan - Skipping to avoid duplicate
Director already exists: Michael Zhou - Skipping to avoid duplicate

Company Verification Status: verified

=== End of Processing ===


=== Processing shareholders for company: Truffles AI Holdings Ltd ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Alice Tan (60%)', 'Michael Zhou (40%)' ]
Error storing individual shareholder data for Alice Tan: Request failed with status code 500
| Alice Tan | 60% (Declaration) | Missing (No source) | S1234567A (Director Registry Truffles AI.docx) | Missing (No source) | Singaporean (Director Registry Truffles AI.docx) | 21 Bukit Timah Road, #05-01, Singapore 229837 (Director Registry Truffles AI.docx) | +65 9123 4567 (Director Registry Truffles AI.docx) | alice.tan@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing NRIC; Missing proof of address |
Error storing individual shareholder data for Michael Zhou: Request failed with status code 500
| Michael Zhou | 40% (Declaration) | Missing (No source) | P0987654B (Director Registry Truffles AI.docx) | Missing (No source) | American (Director Registry Truffles AI.docx) | 500 Market Street, San Francisco, CA, USA (Director Registry Truffles AI.docx) | +1 415 123 4567 (Director Registry Truffles AI.docx) | michael.zhou@truffles.ai (Director Registry Truffles AI.docx) | pending | Missing passport; Missing proof of address |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Stored new company: Truffles AI Research Inc

=== Processing directors for company: Truffles AI Research Inc ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: Truffles AI Research Inc
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: Unknown
e. Intended Registered Address: Unknown
No directors found for this company


=== Processing shareholders for company: Truffles AI Research Inc ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Truffles AI Holdings Ltd (100%)' ]
Error storing corporate shareholder data for Truffles AI Holdings Ltd: Request failed with status code 500
| Truffles AI Holdings Ltd | 100% (Declaration) | Missing (No source) | 202412345H (Truffles AI Holdings Company Profile.docx) | Registration Number (System) | British Virgin Islands (Truffles AI Holdings Company Profile.docx) | 14 Palm Grove, Roadtown, Tortola, BVI (Truffles AI Holdings Company Profile.docx) | Missing (No source) | Missing (No source) | pending | Missing incorporation certificate; Missing register of directors; Missing proof of address; Missing register of members; Missing email & signatory |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 51391,
  [Symbol(trigger_async_id_symbol)]: 50547,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 51391,
  [Symbol(trigger_async_id_symbol)]: 50547,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 51405,
  [Symbol(trigger_async_id_symbol)]: 51390,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandled Rejection at: Promise {
  <rejected> TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
      at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
      at Set.forEach (<anonymous>)
      at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
      at Machine.emit (node:events:519:28)
      at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
      at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
      at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
      at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
    code: 'ERR_INVALID_STATE'
  },
  [Symbol(async_id_symbol)]: 51405,
  [Symbol(trigger_async_id_symbol)]: 51390,
  [Symbol(kResourceStore)]: BaseContext {
    _currentContext: Map(3) {
      Symbol(OpenTelemetry Context Key SPAN) => [Span],
      Symbol(OpenTelemetry SDK Context Key RPC_METADATA) => [Object],
      Symbol(OpenTelemetry Baggage Key) => [Object]
    },
    getValue: [Function (anonymous)],
    setValue: [Function (anonymous)],
    deleteValue: [Function (anonymous)]
  }
} reason: TypeError [ERR_INVALID_STATE]: Invalid state: Controller is already closed
    at ReadableStreamDefaultController.enqueue (node:internal/webstreams/readablestream:1051:13)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:12885:22
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3331:16
    at Set.forEach (<anonymous>)
    at Machine.stateUpdateHandler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:3330:32)
    at Machine.emit (node:events:519:28)
    at file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2203:14
    at Actor.update (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:636:28)
    at Actor._process (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:880:10)
    at Mailbox.flush (/home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/xstate/dist/raise-60cebf03.cjs.js:45:12) {
  code: 'ERR_INVALID_STATE'
}
Unhandeled rejection
Fetching documents for client ID: 1...
Reading content for document 1: Chee_chung_address.txt
Reading content for document 2: MM_ID_MichealMcKay_passport.txt
Reading content for document 3: MM_address_statement.txt
Reading content for document 4: MN_ID_MonikaNowaczyk_passport.txt
Reading content for document 5: chee_chung_idNRIC.txt
Reading content for document 6: companyProfile.txt
Reading content for document 7: mn_address_statement.txt
Classifying 7 documents in a single batch...
Sending batch classification request to AI...
Received batch classification response from AI
Classified document 1: Chee_chung_address.txt as proof_of_address
Classified document 2: MM_ID_MichealMcKay_passport.txt as identity_document
Classified document 3: MM_address_statement.txt as proof_of_address
Classified document 4: MN_ID_MonikaNowaczyk_passport.txt as identity_document
Classified document 5: chee_chung_idNRIC.txt as identity_document
Classified document 6: companyProfile.txt as company_profile
Classified document 7: mn_address_statement.txt as proof_of_address
Extracting information from 7 documents...
Sending prompt to extract information...
Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_numbers": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "S7247859B"}}, "id_types": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "NRIC"}}, "nationalities": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "SINGAPORE"}}, "addresses": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747"}, "chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {}}, {"full_name": "Michael Andrew Mckay", "alternative_names": [], "id_numbers": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "AJ855933"}}, "id_types": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"MM_address_statement.txt": {"documentId": 3, "documentName": "MM_address_statement.txt", "documentType": "proof_of_address", "value": "No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh"}, "companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "APT 702, #38 STREET 426, PHNOM PENH, CAMBODIA"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "30 shares"}}}, {"full_name": "Monika Nowaczyk", "alternative_names": [], "id_numbers": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "HG066207"}}, "id_types": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"mn_address_statement.txt": {"documentId": 7, "documentName": "mn_address_statement.txt", "documentType": "proof_of_address", "value": "104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh"}, "companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "HOUSE 104BE02 STREET 470, PHNOM PENH, CAMBODIA"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "70 shares"}}}, {"full_name": "Ng Cheng Wei", "alternative_names": [], "id_numbers": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "S8829811Z"}}, "id_types": {}, "nationalities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE CITIZEN"}}, "addresses": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Secretary"}, "shares_owned": {}}], "companies": [{"company_name": "BEEBEE+BONGO PTE. LTD.", "registration_number": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "202103382H"}}, "jurisdiction": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE"}}, "address": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "directors": ["Micheal Andrew Mckay", "Monika Nowaczyk", "Tham Chee Chung"], "shareholders": ["Michael Andrew Mckay (30 shares)", "Monika Nowaczyk (70 shares)"], "company_activities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": ["WHOLESALE OF TOYS AND GAMES", "RETAIL SALE OF GAMES AND TOYS"]}}, "shares_issued": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "100 shares"}}}}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_n...
Error parsing JSON after sanitization: SyntaxError: Expected ',' or ']' after array element in JSON at position 5362
    at JSON.parse (<anonymous>)
    at execute (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:3529:32)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async handler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4555:28)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2389:20
JSON position details: {
  errorPosition: '5362',
  textAroundError: 'ile", "value": "100 shares"}}}}'
}
Error parsing JSON: SyntaxError: Expected ',' or ']' after array element in JSON at position 5362
    at JSON.parse (<anonymous>)
    at execute (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:3529:32)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async handler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4555:28)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2389:20
Error extracting information: Error: Failed to parse extracted information
    at execute (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:3550:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async handler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4555:28)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2389:20
Fetching documents for client ID: 1...
Reading content for document 1: Chee_chung_address.txt
Reading content for document 2: MM_ID_MichealMcKay_passport.txt
Reading content for document 3: MM_address_statement.txt
Reading content for document 4: MN_ID_MonikaNowaczyk_passport.txt
Reading content for document 5: chee_chung_idNRIC.txt
Reading content for document 6: companyProfile.txt
Reading content for document 7: mn_address_statement.txt
Classifying 7 documents in a single batch...
All documents already have classifications. Skipping classification step.
Extracting information from 7 documents...
Sending prompt to extract information...
Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_numbers": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "S7247859B"}}, "id_types": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "NRIC"}}, "nationalities": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "SINGAPORE"}}, "addresses": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747"}, "chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {}}, {"full_name": "Michael Andrew Mckay", "alternative_names": [], "id_numbers": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "AJ855933"}}, "id_types": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"MM_address_statement.txt": {"documentId": 3, "documentName": "MM_address_statement.txt", "documentType": "proof_of_address", "value": "No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh"}, "companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "APT 702, #38 STREET 426, PHNOM PENH, CAMBODIA"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "30 shares"}}}, {"full_name": "Monika Nowaczyk", "alternative_names": [], "id_numbers": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "HG066207"}}, "id_types": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"mn_address_statement.txt": {"documentId": 7, "documentName": "mn_address_statement.txt", "documentType": "proof_of_address", "value": "104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh"}, "companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "HOUSE 104BE02 STREET 470, PHNOM PENH, CAMBODIA"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "70 shares"}}}, {"full_name": "Ng Cheng Wei", "alternative_names": [], "id_numbers": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "S8829811Z"}}, "id_types": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "NRIC (Implied)"}}, "nationalities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE CITIZEN"}}, "addresses": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Secretary"}, "shares_owned": {}}], "companies": [{"company_name": "BEEBEE+BONGO PTE. LTD.", "registration_number": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "202103382H"}}, "jurisdiction": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE"}}, "address": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "directors": ["Micheal Andrew Mckay", "Monika Nowaczyk", "Tham Chee Chung"], "shareholders": ["Michael Andrew Mckay (30%)", "Monika Nowaczyk (70%)"], "company_activities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": ["WHOLESALE OF TOYS AND GAMES", "RETAIL SALE OF GAMES AND TOYS"]}}, "shares_issued": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "100 shares"}}}}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_n...
Error parsing JSON after sanitization: SyntaxError: Expected ',' or ']' after array element in JSON at position 5489
    at JSON.parse (<anonymous>)
    at execute (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:3529:32)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async handler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4555:28)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2389:20
JSON position details: {
  errorPosition: '5489',
  textAroundError: 'ile", "value": "100 shares"}}}}'
}
Error parsing JSON: SyntaxError: Expected ',' or ']' after array element in JSON at position 5489
    at JSON.parse (<anonymous>)
    at execute (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:3529:32)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async handler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4555:28)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2389:20
Error extracting information: Error: Failed to parse extracted information
    at execute (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/.mastra/output/index.mjs:3550:15)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async handler (file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4555:28)
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:4529:16
    at async file:///home/garvit/Desktop/personal_projects/KYC_Agent/KYC_Verifier/node_modules/@mastra/core/dist/chunk-3DJ53HTG.js:2389:20
Fetching documents for client ID: 1...
Reading content for document 1: Chee_chung_address.txt
Reading content for document 2: MM_ID_MichealMcKay_passport.txt
Reading content for document 3: MM_address_statement.txt
Reading content for document 4: MN_ID_MonikaNowaczyk_passport.txt
Reading content for document 5: chee_chung_idNRIC.txt
Reading content for document 6: companyProfile.txt
Reading content for document 7: mn_address_statement.txt
Classifying 7 documents in a single batch...
All documents already have classifications. Skipping classification step.
Extracting information from 7 documents...
Sending prompt to extract information...
Received response, parsing...
resultText is ```json
{"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_numbers": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "S7247859B"}}, "id_types": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "NRIC"}}, "nationalities": {"chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "SINGAPORE"}}, "addresses": {"Chee_chung_address.txt": {"documentId": 1, "documentName": "Chee_chung_address.txt", "documentType": "proof_of_address", "value": "APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747"}, "chee_chung_idNRIC.txt": {"documentId": 5, "documentName": "chee_chung_idNRIC.txt", "documentType": "identity_document", "value": "APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {}}, {"full_name": "Michael Andrew Mckay", "alternative_names": [], "id_numbers": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "AJ855933"}}, "id_types": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MM_ID_MichealMcKay_passport.txt": {"documentId": 2, "documentName": "MM_ID_MichealMcKay_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"MM_address_statement.txt": {"documentId": 3, "documentName": "MM_address_statement.txt", "documentType": "proof_of_address", "value": "No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "30 shares"}}}, {"full_name": "Monika Nowaczyk", "alternative_names": [], "id_numbers": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "HG066207"}}, "id_types": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "Passport"}}, "nationalities": {"MN_ID_MonikaNowaczyk_passport.txt": {"documentId": 4, "documentName": "MN_ID_MonikaNowaczyk_passport.txt", "documentType": "identity_document", "value": "CANADIAN"}}, "addresses": {"mn_address_statement.txt": {"documentId": 7, "documentName": "mn_address_statement.txt", "documentType": "proof_of_address", "value": "104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Director"}, "shares_owned": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "companyName": "BEEBEE+BONGO PTE. LTD.", "value": "70 shares"}}}, {"full_name": "Ng Cheng Wei", "alternative_names": [], "id_numbers": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "S8829811Z"}}, "id_types": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "NRIC (Implied)"}}, "nationalities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE CITIZEN"}}, "addresses": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "emails": {}, "phones": {}, "roles": {"BEEBEE+BONGO PTE. LTD.": "Secretary"}, "shares_owned": {}}], "companies": [{"company_name": "BEEBEE+BONGO PTE. LTD.", "registration_number": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "202103382H"}}, "jurisdiction": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "SINGAPORE"}}, "address": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "20A TANJONG PAGAR ROAD SINGAPORE (088443)"}}, "directors": ["Micheal Andrew Mckay", "Monika Nowaczyk", "Tham Chee Chung"], "shareholders": ["Michael Andrew Mckay (30 shares)", "Monika Nowaczyk (70 shares)"], "company_activities": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "WHOLESALE OF TOYS AND GAMES", "value": "RETAIL SALE OF GAMES AND TOYS"}}, "shares_issued": {"companyProfile.txt": {"documentId": 6, "documentName": "companyProfile.txt", "documentType": "company_profile", "value": "100 shares"}}}]}
```
Sanitized JSON (first 100 chars): {"individuals": [{"full_name": "Tham Chee Chung", "alternative_names": ["Tan Zhicong", "Ë∞≠ÂøóËÅ™"], "id_n...
Successfully extracted information about 4 individuals and 1 companies
Processing discrepancies in extracted data...
Storing extracted information...
Stored new individual: Tham Chee Chung
Stored new individual: Michael Andrew Mckay
Stored new individual: Monika Nowaczyk
Stored new individual: Ng Cheng Wei
Stored new company: BEEBEE+BONGO PTE. LTD.

=== Processing directors for company: BEEBEE+BONGO PTE. LTD. ===

COMPANY DETAILS TABLE
===================
a. Intended Company Name: BEEBEE+BONGO PTE. LTD.
b. Alternative Company Name 1: N/A
c. Alternative Company Name 2: N/A
d. Company Activities: RETAIL SALE OF GAMES AND TOYS
e. Intended Registered Address: 20A TANJONG PAGAR ROAD SINGAPORE (088443)

DIRECTORS TABLE
==============
| Name (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Residential Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|---------------|-----------------|------------------|--------------------|-----------------------------|------------------|---------------------|-------------------|-------------|
| Micheal Andrew Mckay (Unknown) | Unknown | Unknown | Unknown | Unknown | Unknown | Unknown | pending | Missing all required information |
| Monika Nowaczyk (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing telephone number; Missing email address |
Stored/updated director information for Monika Nowaczyk
| Tham Chee Chung (No source) | S7247859B (chee_chung_idNRIC.txt) | NRIC (chee_chung_idNRIC.txt) | SINGAPORE (chee_chung_idNRIC.txt) | APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747 (Chee_chung_address.txt) | Missing (No source) | Missing (No source) | not_verified | Discrepancy in addresses: APT BLK 747C BEDOK RESERVOIR CRESCENT #11-31 BELVIA DBSS SINGAPORE 473747 vs APT BLK 747C BEDOK RESERVOIR RD SINGAPORE 473747 (Sources: Chee_chung_address.txt, chee_chung_idNRIC.txt) |
Stored/updated director information for Tham Chee Chung

Company Verification Status: pending

=== End of Processing ===


=== Processing shareholders for company: BEEBEE+BONGO PTE. LTD. ===

SHAREHOLDERS TABLE
==================
| Name (Source) | Shares Owned (Source) | Price per Share (Source) | ID No. (Source) | ID Type (Source) | Nationality (Source) | Address (Source) | Tel. No. (Source) | Email Address (Source) | Verification Status | KYC Status |
|--------------|------------------------|-------------------------|-----------------|------------------|---------------------|-----------------|------------------|---------------------|-------------------|-------------|
Shareholders: [ 'Michael Andrew Mckay (30 shares)', 'Monika Nowaczyk (70 shares)' ]
Stored/updated individual shareholder information for Michael Andrew Mckay
| Michael Andrew Mckay | 30 shares (Declaration) | Missing (No source) | AJ855933 (MM_ID_MichealMcKay_passport.txt) | Passport (MM_ID_MichealMcKay_passport.txt) | CANADIAN (MM_ID_MichealMcKay_passport.txt) | No 38 Street 426,Phum1,Toul Tompung2, Chamkar Mon,Phnom Penh (MM_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing email |
Stored/updated individual shareholder information for Monika Nowaczyk
| Monika Nowaczyk | 70 shares (Declaration) | Missing (No source) | HG066207 (MN_ID_MonikaNowaczyk_passport.txt) | Passport (MN_ID_MonikaNowaczyk_passport.txt) | CANADIAN (MN_ID_MonikaNowaczyk_passport.txt) | 104BE02,0,470,Phum1,Tuol Tumpung Ti Pir, Chamkar Mon,Phnom Penh (mn_address_statement.txt) | Missing (No source) | Missing (No source) | pending | Missing email |

Company Shareholder KYC Status: pending

=== End of Shareholder Processing ===

